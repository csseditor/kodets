- provide :title, 'Edit Track'

.container
  .row
    .col-md-6
      %h1 Edit #{@track.name}

      = form_for @track do |f|
        .form-group
          = f.label :name, class: 'control-label'
          = f.text_field :name, class: 'form-control', placeholder: 'Name'
        .form-group
          = f.label :description, class: 'control-label'
          = f.text_area :description, rows: 3, class: 'form-control', placeholder: 'Description'
        .form-group
          = f.submit 'Submit', class: 'btn btn-default'

    .col-md-6
      - if @track.items.any?
        .alert.alert-info.alert-dismissable
          %button.close{"type" => "button", "data-dismiss" => "alert", "aria-hidden" => "true"} &times;
          Click and drag the
          %span.glyphicon.glyphicon-align-justify
          icon to rearrage the order of lessons in the track.

        %ul#edit-track-sortable.hard-top-10
          - @track.items.sort_by! { |i| i.order }.each do |item|
            %li.list-group-item.edit-track-sortable-item{"id" => "#{item.class.name.parameterize}-#{item.id}", "data-id" => "#{item.class.name}-#{item.id}"}

              - # path_for_lesson found in ApplicationHelper
              = link_to item.name, path_for_lesson(item)
              %span.label.label-primary.track-item-label= item.class.name
              %span.glyphicon.glyphicon-align-justify.pull-right.edit-track-move-icon
